<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Stop mysql & apache from starting automatically</title>
  <meta name="viewport" content="width=device-width">

  <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="/assets/css/style.css" rel="stylesheet" />
  <link href="/assets/css/colors-dark.css" rel="stylesheet" />
</head>

<body>
  <header id="header">
    <h1><a href="/"><i class="icon-sun"></i> coding & stuff</a></h1>
    <p></p>
  </header>

  <div id="page">
    <div id="sidebar">
      <nav>
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/archives">Archive</a></li>
          <li><a href="/about">About</a></li>
          <li><a href="http://twitter.com/grossjonas">Twitter</a></li>
          <li><a href="/feed.xml">RSS Feed</a></li>
        </ul>
      </nav>
    </div>

    <div id="content">
      <article class="post">

	
		<h1><a href="/mysql/apache/upstart/2013/03/18/Stop-mysql-and-apache-from-starting-automatically.html">Stop mysql & apache from starting automatically</a></h1>
	

	<div class="post-content"><h1>Diffrent worlds</h1>

<p>The XAMPP is quite convenient. It provides everything you need to quickly develop a simple website. But sometime you want the full package to enable mods like mod_userdir and such a like whitout running apache &amp; mysql on bootup on your private part time development laptop for example.</p>

<p>It is really simple to install those packages and only activate them on demand.</p>

<p>To do so you obviously need to install ( or have them installed already ) and know how the get started. On my Ubuntu 12.04 these packages use diffrent methods for autostarting.</p>

<p>While <em>apache</em> is still started by an init-script, <em>mysql</em> is already an upstart job.</p>

<h2>Install</h2>

<p>Just a quick remark: I recommend installing <em>mysql-workbench</em> also.
So:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">sudo apt-get install mysql-server mysql-client mysql-workbench
sudo apt-get install apache2</code></pre></div>

<h2>Deactivate autostart</h2>

<p>Now it is time to deactivate them both.</p>

<h3>apache aka init</h3>

<p><em>apache</em> gets started via an <a href="http://en.wikipedia.org/wiki/Init">init-script</a> on Ubuntu 12.04.2 LTS ( <code>cat /etc/issue</code> ). These script can be managed by <em>update-rc.d</em>, so the manpage is a good start for more information. To fully understand that manpage you also need to know the diffrent run-levels and their purpose, which will lead you to the <a href="http://en.wikipedia.org/wiki/Runlevel">Linux Standard Base specification</a>. Finally it is obvious: Just disabling auto startup is the only reasonable way to go, since maybe autostart is need some day in future ...
So:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">sudo update-rc.d -f apache2 disable</code></pre></div>

<h3>mysql aka upstart</h3>

<p><em>mysql</em> is invoked by <a href="http://en.wikipedia.org/wiki/Upstart">upstart</a>. This is Ubuntu&#39;s &#39;own&#39; startup mechanism. <a href="http://upstart.ubuntu.com/getting-started.html">This</a> is where you can get the basics.
To make a long story short:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">sudo vim /etc/init/mysql.conf
:% s/start<span class="se">\ </span>on<span class="se">\ </span>runlevel/#start<span class="se">\ </span>on<span class="se">\ </span>runlevel/gc</code></pre></div>

<h3>Restart ...</h3>

<p>... and see if it works</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">ps aux <span class="p">|</span> grep mysql
ps aux <span class="p">|</span> grep apache</code></pre></div>
</div>

	<p class="meta">Posted on <span class="postdate">Mar 18, 2013</span></p>

</article>
    </div>
  </div>

  <footer id="footer">
    <p class="copyright">Copyright &copy; 2015 coding & stuff. Powered by <a href="http://jekyllrb.com">Jekyll</a>, theme by <a href="http://www.webmaster-source.com">Matt Harzewski</a></p>
  </footer>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
  <script src="/assets/js/jquery.mobilemenu.min.js"></script>

  <script>
    $(document).ready(function(){
      $('#sidebar nav ul').mobileMenu({'topOptionText': 'Menu', 'prependTo': '#sidebar nav'});
    });
  </script>

</body>
</html>
